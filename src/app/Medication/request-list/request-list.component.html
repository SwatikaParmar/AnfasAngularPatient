<div class="dashboard-outer px-2 sm:px-4">

  <section>
    <div class="content-body">
      <div class="container-fluid">

        <!-- Header and Button -->
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3">
          <h1 class="text-xl sm:text-2xl font-semibold text-[#726641]">
            {{ 'REQUEST_LIST' | translate }}
          </h1>

          <button class="appointment-btn text-white px-5 py-2 rounded-full w-full sm:w-auto"
            [routerLink]="['/request-list/request-add']">
            + {{ 'ADD_REQUEST' | translate }}
          </button>
        </div>

        <!-- Table Wrapper -->
        <div class="bg-gray-50 text-gray-800 rounded-[15px]  overflow-x-auto" style="border-radius: 15px;">
            <div class="custom-container  mx-auto p-3">
            <div class="container">
              <div class="table-container">
                <div class="table-responsive">
          <div class="min-w-[640px]"> <!-- Force horizontal scroll on small screens -->
            <table class="w-full border-collapse">
              <thead>
                <tr class="bg-[#fde092] text-left">
                  <th class="p-3 text-sm font-semibold">{{ 'USER_NAME' | translate }}</th>
                  <th class="p-3 text-sm font-semibold">{{ 'REQUEST_TYPE_NAME' | translate }}</th>
                  <th class="p-3 text-sm font-semibold">{{ 'PHONE_NUMBER' | translate }}</th>
                  <th class="p-3 text-sm font-semibold">{{ 'STATUS' | translate }}</th>
                  <th class="p-3 text-sm font-semibold">{{ 'DESCRIPTION1' | translate }}</th>
                </tr>
              </thead>
              <tbody>
                <tr class="bg-white" *ngFor="let item of requestList | paginate : {
                    itemsPerPage: 5,
                    currentPage: page,
                    totalItems: totalItems,
                    id: '1'
                  }">
                  <td class="p-3 text-sm">{{ item.userName || 'N/A' }}</td>
                  <td class="p-3 text-sm">{{ item.requestTypeName || 'N/A' }}</td>
                  <td class="p-3 text-sm">{{ item.phoneNumber || 'N/A' }}</td>
                  <td class="p-3 text-sm">{{ item.status || 'N/A' }}</td>
                  <td class="p-3 text-sm">
                    {{ item.discretion ? (item.discretion.split(' ').slice(0, 3).join(' ') + (item.discretion.split(' ').length > 3 ? '...' : '')) : 'N/A' }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- No Data Image -->
          <div class="no-data text-center" *ngIf="requestList && requestList.length === 0">
            <img src="assets/images/ffffrq-removebg-preview.png"
              class="w-1/2 mx-auto py-12" alt="No Data" />
          </div>

          <!-- Pagination -->
          <div class="pagination-container pt-3 pb-3">
            <pagination-controls (pageChange)="onPageChange($event)" id="1"
              class="paginate-doctor-list" queryParamsHandling="merge"></pagination-controls>
          </div>
        </div>
      </div>
      </div>
      </div>
      </div>
      </div>
    </div>
  </section>
</div>
