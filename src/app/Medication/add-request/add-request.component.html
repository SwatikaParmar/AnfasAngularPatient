<div class="dashboard-outer">
  <section>
    <div class="content-body">
      <div class="container-fluid">
        <form [formGroup]="requestForm" (ngSubmit)="onSubmit()">
          <div class="bg-gray-50 text-gray-800 font-sans" style="border-radius: 15px;">
            <div class="custom-container mx-auto p-3">
              <div class="d-flex flex-wrap align-items-center justify-content-between mb-2 px-2">
                <!-- Back Arrow Button on the Left -->
                <div class="me-auto">
                  <button class="back-btn-left-circle d-flex align-items-center justify-content-center rounded-circle text-white"
                      (click)="backClicked()">
                   <i class="fas fa-arrow-left" style="font-size: 13px; text-align: center; color: black;"></i>

                  </button>
                </div>

                <!-- Center Text -->
                <div class="flex-grow-1 font-semibold text-center mt-2 mt-sm-0">
                  <h1 class="m-0" style="font-size: 25px; color: #726641;">
                    {{ 'REQUEST' | translate }}
                  </h1>
                </div>
              </div>


              <div class="container mt-4">
  <form [formGroup]="requestForm" (ngSubmit)="onSubmit()">
    <div class="row mb-3">
      <!-- Request Type -->
      <div class="col-12 col-sm-6 col-md-4 mb-2">
        <label for="type" class="form-label">{{ 'REQUEST_TYPE' | translate }}</label>
        <select
          class="form-select"
          id="type"
          name="type"
          formControlName="requestTypeId"
          (change)="onRequestTypeChange()"
        >
          <option value="" disabled>{{ 'SELECT' | translate }}</option>
          <option *ngFor="let type of requestTypeList" [value]="type.requestTypeID">
            {{ type.requestTypeName }}
          </option>
        </select>

        <div *ngIf="submitted && f['requestTypeId'].errors" class="text-danger">
          <div *ngIf="f['requestTypeId'].errors['required']">
            {{ 'REQUEST_TYPE_IS_REQUIRED' | translate }}
          </div>
        </div>
      </div>
    </div>

    <!-- ✅ Companion fields -->
    <div class="row" *ngIf="selectedRequestType === 'companion'">
      <div class="col-12 col-md-3 mb-3">
        <label for="companionName" class="form-label">  {{ 'COMPANION_NAME' | translate }}</label>
        <input
          type="text"
          id="companionName"
          class="form-control"
          formControlName="companionName"
            placeholder="{{ 'ENTER_COMPANION_NAME' | translate }}"
        />
      </div>

      <div class="col-12 col-md-3 mb-3">
        <label for="companionNationalId" class="form-label">      {{ 'COMPANION_NATIONAL_ID' | translate }}
</label>
        <input
          type="text"
          id="companionNationalId"
          class="form-control"
          formControlName="companionNationalId"
         placeholder="{{ 'ENTER_COMPANION_NATIONAL_ID' | translate }}"
        />
      </div>

      <div class="col-12 col-md-3 mb-3">
        <label for="phoneNumber" class="form-label">   {{ 'PHONE_NUMBER' | translate }}</label>
        <input
          type="tel"
          id="phoneNumber"
          class="form-control"
          formControlName="phoneNumber"
          placeholder="{{ 'ENTER_PHONE_NUMBER' | translate }}"
        />
      </div>

      <div class="col-12 col-md-3 mb-3">
        <label for="dob" class="form-label"> {{ 'DATE_OF_BIRTH' | translate }}</label>
        <input
          type="date"
          id="dob"
          class="form-control"
          formControlName="dob"
        />
      </div>

       <div class="col-12">
        <label for="description" class="form-label">{{ 'DESCRIPTION2' | translate }}</label>
        <textarea
          class="form-control"
          id="description"
          name="description"
          rows="3"
          placeholder="{{ 'ENTER_DESCRETION' | translate }}"
          formControlName="discretion"
        ></textarea>

        <div *ngIf="submitted && f['discretion'].errors" class="text-danger">
          <div *ngIf="f['discretion'].errors['required']">
            {{ 'DISCRETION_IS_REQUIRED' | translate }}
          </div>
        </div>
      </div>
    </div>

    <!-- ✅ Description (only for medical) -->
    <div class="row mb-3 mt-1" *ngIf="selectedRequestType === 'medicalreport'">
      <div class="col-12">
        <label for="description" class="form-label">{{ 'DESCRIPTION2' | translate }}</label>
        <textarea
          class="form-control"
          id="description"
          name="description"
          rows="3"
          placeholder="{{ 'ENTER_DESCRETION' | translate }}"
          formControlName="discretion"
        ></textarea>

        <div *ngIf="submitted && f['discretion'].errors" class="text-danger">
          <div *ngIf="f['discretion'].errors['required']">
            {{ 'DISCRETION_IS_REQUIRED' | translate }}
          </div>
        </div>
      </div>
    </div>

    <!-- Submit button -->
    <div class="d-flex justify-content-center mb-4">
      <button
        type="submit"
        class="btn btn-custom w-sm-50 w-md-25 mt-2"
        style="color: white;"
      >
        {{ 'SUBMIT' | translate }}
      </button>
    </div>
  </form>
</div>

            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</div>